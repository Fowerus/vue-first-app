{"remainingRequest":"/home/fower/work/vue-todo-list/client/node_modules/babel-loader/lib/index.js!/home/fower/work/vue-todo-list/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/fower/work/vue-todo-list/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/fower/work/vue-todo-list/client/src/components/account-vues/changeLogPas.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/fower/work/vue-todo-list/client/src/components/account-vues/changeLogPas.vue","mtime":1598095354840},{"path":"/home/fower/work/vue-todo-list/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fower/work/vue-todo-list/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/fower/work/vue-todo-list/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fower/work/vue-todo-list/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjaGFuZ2VMb2dQYXMnLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdJbmY6IHt9LAogICAgICBuZXdMb2dpbjogJycsCiAgICAgIG5ld1Bhc3N3b3JkOiAnJywKICAgICAgcmVwZWF0UGFzc3dvcmQ6ICcnLAogICAgICBjdXJQYXNzd29yZDogJycsCiAgICAgIGVycm9yOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZUFjY0luZjogZnVuY3Rpb24gY2hhbmdlQWNjSW5mKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY3VyUGFzc3dvcmQubGVuZ3RoID4gNCkgewogICAgICAgIGlmICh0aGlzLm5ld0xvZ2luLmxlbmd0aCA+IDQgfHwgdGhpcy5uZXdQYXNzd29yZC5sZW5ndGggPiA0KSB7CiAgICAgICAgICB0aGlzLm5ld0luZlsnY3VycmVudFVzZXInXSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50X3VzZXInKTsKICAgICAgICAgIHRoaXMubmV3SW5mWyduZXdMb2dpbiddID0gdGhpcy5uZXdMb2dpbjsKICAgICAgICAgIHRoaXMubmV3SW5mWyduZXdQYXNzd29yZCddID0gdGhpcy5uZXdQYXNzd29yZDsKICAgICAgICAgIHRoaXMubmV3SW5mWyduZXdSZXBQYXNzd29yZCddID0gdGhpcy5yZXBlYXRQYXNzd29yZDsKICAgICAgICAgIHRoaXMubmV3SW5mWydjdXJQYXNzd29yZCddID0gdGhpcy5jdXJQYXNzd29yZDsKICAgICAgICAgIHZhciBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9jaGFuZ2VMb2dQYXMnOwogICAgICAgICAgYXhpb3MucG9zdChwYXRoLCBKU09OLnN0cmluZ2lmeSh0aGlzLm5ld0luZikpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLmRhdGFbJ0Vycm9yJ10pIHsKICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9IHJlcy5kYXRhWydFcnJvciddOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLm5ld0xvZ2luID0gJycsIF90aGlzLm5ld1Bhc3N3b3JkID0gJycsIF90aGlzLnJlcGVhdFBhc3N3b3JkID0gJycsIF90aGlzLmN1clBhc3N3b3JkID0gJycsIF90aGlzLm5ld0luZiA9IHt9OwoKICAgICAgICAgICAgICBpZiAocmVzLmRhdGFbJ2N1cnJlbnRfdXNlciddKSB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudF91c2VyJywgcmVzLmRhdGFbJ2N1cnJlbnRfdXNlciddKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzLmVycm9yID0gJ1NhdmUgc3VjY2Vzc2Z1bCc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yID0gJ1lvdXIgaW5wdXQgaXMgc2hvcnQnOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVycm9yID0gJ0N1cnJlbnQgcGFzc3dvcmQgaXMgc2hvcnQnOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/fower/work/vue-todo-list/client/src/components/account-vues/changeLogPas.vue"],"names":[],"mappings":"AAmBA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAc;AACb,EAAA,IAAI,EAAC,cADQ;AAEb,EAAA,UAAU,EAAC,EAFE;AAIb,EAAA,IAJa,kBAIP;AACL,WAAM;AACL,MAAA,MAAM,EAAC,EADF;AAEL,MAAA,QAAQ,EAAC,EAFJ;AAGL,MAAA,WAAW,EAAC,EAHP;AAIL,MAAA,cAAc,EAAC,EAJV;AAKL,MAAA,WAAW,EAAC,EALP;AAML,MAAA,KAAK,EAAC;AAND,KAAN;AAQA,GAbY;AAcb,EAAA,OAAO,EAAC;AACP,IAAA,YADO,0BACO;AAAA;;AACb,UAAI,KAAK,WAAL,CAAiB,MAAjB,GAA0B,CAA9B,EAAgC;AAC/B,YAAI,KAAK,QAAL,CAAc,MAAd,GAAuB,CAAvB,IAA4B,KAAK,WAAL,CAAiB,MAAjB,GAA0B,CAA1D,EAA4D;AAE3D,eAAK,MAAL,CAAY,aAAZ,IAA6B,YAAY,CAAC,OAAb,CAAqB,cAArB,CAA7B;AACA,eAAK,MAAL,CAAY,UAAZ,IAA0B,KAAK,QAA/B;AACA,eAAK,MAAL,CAAY,aAAZ,IAA6B,KAAK,WAAlC;AACA,eAAK,MAAL,CAAY,gBAAZ,IAAgC,KAAK,cAArC;AACA,eAAK,MAAL,CAAY,aAAZ,IAA6B,KAAK,WAAlC;AAEA,cAAM,IAAG,GAAI,oCAAb;AACA,UAAA,KAAK,CAAC,IAAN,CAAW,IAAX,EAAgB,IAAI,CAAC,SAAL,CAAe,KAAK,MAApB,CAAhB,EACC,IADD,CACM,UAAA,GAAG,EAAE;AACV,gBAAI,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAJ,EAAsB;AACrB,cAAA,KAAI,CAAC,KAAL,GAAa,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAb;AACA,aAFD,MAEK;AACJ,cAAA,KAAI,CAAC,QAAL,GAAgB,EAAhB,EACA,KAAI,CAAC,WAAL,GAAmB,EADnB,EAEA,KAAI,CAAC,cAAL,GAAsB,EAFtB,EAGA,KAAI,CAAC,WAAL,GAAmB,EAHnB,EAIA,KAAI,CAAC,MAAL,GAAc,EAJd;;AAMA,kBAAI,GAAG,CAAC,IAAJ,CAAS,cAAT,CAAJ,EAA6B;AAC5B,gBAAA,YAAY,CAAC,OAAb,CAAqB,cAArB,EAAoC,GAAG,CAAC,IAAJ,CAAS,cAAT,CAApC;AACD;;AACA,cAAA,KAAI,CAAC,KAAL,GAAa,iBAAb;AACD;AACA,WAhBD;AAiBA,SA1BD,MA0BK;AACJ,eAAK,KAAL,GAAa,qBAAb;AACD;AACA,OA9BD,MA8BK;AACJ,aAAK,KAAL,GAAa,2BAAb;AACD;AACD;AAnCO;AAdK,CAAd","sourcesContent":["<template>\n\t<div class=\"changeLogPas\">\n\t\t<form>\n\t\t\t<h5>New login</h5>\n\t\t\t<input type=\"text\" placeholder=\"New Login\" v-model ='newLogin'>\n\n\t\t\t<h5 class='n'>New password</h5>\n\t\t\t<input type=\"password\" placeholder=\"New password\" v-model ='newPassword'>\n\t\t\t<input type=\"password\" placeholder=\"Repeat new password\" v-model = 'repeatPassword'>\n\n\t\t\t<h5 class='n'>Current password</h5>\n\t\t\t<input type=\"password\" placeholder=\"Current password\" v-model ='curPassword'>\n\t\t\t<button type='button' @click='changeAccInf'>Save</button>\n\t\t\t<h5 class='error' v-if ='error.length > 0'>{{error}}</h5>\n\t\t</form>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\t\n\nexport default{\n\tname:'changeLogPas',\n\tcomponents:{\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tnewInf:{},\n\t\t\tnewLogin:'',\n\t\t\tnewPassword:'',\n\t\t\trepeatPassword:'',\n\t\t\tcurPassword:'',\n\t\t\terror:'',\n\t\t};\n\t},\n\tmethods:{\n\t\tchangeAccInf(){\n\t\t\tif (this.curPassword.length > 4){\n\t\t\t\tif (this.newLogin.length > 4 || this.newPassword.length > 4){\n\n\t\t\t\t\tthis.newInf['currentUser'] = localStorage.getItem('current_user');\n\t\t\t\t\tthis.newInf['newLogin'] = this.newLogin;\n\t\t\t\t\tthis.newInf['newPassword'] = this.newPassword;\n\t\t\t\t\tthis.newInf['newRepPassword'] = this.repeatPassword;\n\t\t\t\t\tthis.newInf['curPassword'] = this.curPassword;\n\n\t\t\t\t\tconst path = 'http://localhost:5000/changeLogPas';\n\t\t\t\t\taxios.post(path,JSON.stringify(this.newInf))\n\t\t\t\t\t.then(res=>{\n\t\t\t\t\t\tif (res.data['Error']){\n\t\t\t\t\t\t\tthis.error = res.data['Error'];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.newLogin = '',\n\t\t\t\t\t\t\tthis.newPassword = '',\n\t\t\t\t\t\t\tthis.repeatPassword = '',\n\t\t\t\t\t\t\tthis.curPassword = '',\n\t\t\t\t\t\t\tthis.newInf = {};\n\n\t\t\t\t\t\t\tif (res.data['current_user']){\n\t\t\t\t\t\t\t\tlocalStorage.setItem('current_user',res.data['current_user']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.error = 'Save successful';\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tthis.error = 'Your input is short';\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.error = 'Current password is short';\n\t\t\t}\n\t\t}\n\t},\n}\n</script>\n\n<style scoped>\n\t.changeLogPas{\n\t\tmax-width: 700px!important;\n\t}\n\t.changeLogPas form .error{\n\t\tmax-width: 200px;\n\t\tmargin:10px auto 0;\n\t}\n\t.changeLogPas h5{\n\t\ttext-align: left;\n\t\tmargin:0 0 5px 100px ;\n\t}\n\t.changeLogPas form{\n\t\tmax-width: inherit;\n\t\tdisplay:flex;\n\t\tflex-direction:column;\n\t\tborder:1px solid black;\n\t\tpadding:20px 0 20px 0;\n\t}\n\t.changeLogPas form input{\n\t\tpadding:10px 20px 10px 20px;\n\t\tmargin-bottom:10px;\n\t\twidth:100%;\n\t\theight: 20px;\n\t}\n\t.changeLogPas form .n{\n\t\tmargin-top:20px;\n\t}\n\t.changeLogPas form button{\n\t\tcursor:pointer;\n\t\twidth:100px;\n\t\theight: 30px;\n\t\tmargin:10px 0 0 100px;\n\t}\n</style>"],"sourceRoot":""}]}